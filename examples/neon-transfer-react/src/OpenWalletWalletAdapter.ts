import {
  WalletAdapter,
  WalletAdapterEvents,
  WalletError,
  WalletNotConnectedError,
  WalletNotReadyError,
  WalletReadyState,
  WalletName,
  SendTransactionOptions,
} from "@solana/wallet-adapter-base";
import {
  Connection,
  PublicKey,
  Transaction,
  VersionedTransaction,
  MessageV0,
  PublicKeyInitData,
} from "@solana/web3.js";
import { EventEmitter } from "eventemitter3";
import bs58 from "bs58"
// open.wallet

// VITE_RPC_ENDPOINT=https://api.mainnet.solana.com
// VITE_CHAIN_KEY=solana
// 6iHJYoq5vCuiaKCbhGsbpFysyQJwgdPPdMLZUogpQur9
const VITE_DISPLAYDENOM = "BTG"
const VITE_CHAIN_KEY = "openverse"


const VITE_BTGANA_NETWORK="devnet"
const VITE_RPC_ENDPOINT="https://api.mainnet.openverse.network"
//const VITE_BTGANA_NETWORK = "mainnet-beta"
//const VITE_RPC_ENDPOINT = "https://api.mainnet.openverse.network"

export const RPC_ENDPOINT = VITE_RPC_ENDPOINT;
export const CHAIN_KEY = VITE_CHAIN_KEY as "openverse" | "solana";
export const NETWORK = VITE_BTGANA_NETWORK as 'testnet' | 'devnet' | 'mainnet-beta';
export const DISPLAYDENOM = VITE_DISPLAYDENOM as 'BTG' | 'BTG';

export class OpenWalletWalletAdapter
  extends EventEmitter<WalletAdapterEvents>
  implements WalletAdapter {
  private _connecting: boolean;
  private _wallet: any | null;
  private _publicKey: PublicKey | null;
  private _readyState: WalletReadyState;
  private _connectingPromise: Promise<void> | null;
  private _disconnecting: boolean;
  private chain = {
    chain: NETWORK,
    id: CHAIN_KEY.toUpperCase() + (NETWORK === "devnet" ? "DEV" : NETWORK === "testnet" ? "TEST" : "") + '--------------',
    displayDenom: DISPLAYDENOM,
    explorerURL: 'https://scan.openverse.network/',
    decimals: 9,
    coinGeckoId: 'openverse',
    // rpcURL: 'http://api.mainnet.openverse.network:8899',
    rpcURL: RPC_ENDPOINT,
    // rpcURL: 'https://api.mainnet.openverse.network',
    // rpcURL: 'https://us-seattle.openverse.network/api',
    // wsEndpoint: 'wss://us-seattle.openverse.network/websocket',
    chainName: NETWORK === "devnet" ? "Openverse Dev" : NETWORK === "testnet" ? "Openverse Test" : 'Openverse',
    line: CHAIN_KEY.toUpperCase(),
    bip44: {
      purpose: "44'",
      coinType: "501'",
      account: "0'",
      change: "0'",
    },
  };
  constructor() {
    super();
    this._connecting = false;
    this._disconnecting = false;
    this._wallet = null;
    this._publicKey = null;
    this._readyState = WalletReadyState.NotDetected;
    this._connectingPromise = null;

    // Check if OpenWallet wallet is installed
    if (typeof window !== "undefined" && (window as any).isOpenWallet) {
      console.log("WalletReadyState.Installed012");
      this._readyState = WalletReadyState.Installed;
    }
  }

  get publicKey(): PublicKey | null {
    return this._publicKey;
  }

  get connecting(): boolean {
    return this._connecting;
  }

  get connected(): boolean {
    return !!this._wallet;
  }

  get readyState(): WalletReadyState {
    return this._readyState;
  }

  get name(): WalletName<"OpenWallet"> {
    return "OpenWallet" as WalletName<"OpenWallet">;
  }

  get icon(): string {
    return "data:image/png;base64,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"; // Replace with actual icon base64 string
  }

  get url(): string {
    return "https://OpenWallet.com"; // 替换为实际的网站地址
  }

  async autoConnect(): Promise<void> {
    console.log("开始自动连接钱包...");
    if ((window as any).openwallet?.[CHAIN_KEY]) {
      try {
        await this.connect();
      } catch (error) {
        // Ignore error
      }
    }
  }

  async connect(): Promise<void> {
    try {
      console.log("开始连接钱包...");

      if (this._connecting) {
        console.log("已经在连接中，检查连接Promise状态");
        if (this._connectingPromise) {
          console.log("返回现有Promise");
          return this._connectingPromise;
        } else {
          console.log("连接Promise不存在，重置连接状态");
          this._connecting = false;
        }
      }

      if (this.connected) {
        console.log("钱包已经连接，抛出错误");
        throw new WalletError("Wallet already connected");
      }

      if (!(window as any).openwallet?.[CHAIN_KEY]) {
        console.log("未找到OpenWallet钱包");
        throw new WalletNotReadyError("OpenWallet wallet not found");
      }

      console.log("找到OpenWallet钱包，开始连接过程");
      this._connecting = true;
      this._connectingPromise = new Promise((resolve, reject) => {
        (window as any)
          .openwallet![CHAIN_KEY]!.connect(RPC_ENDPOINT)
          .then((response: any) => {
            console.log(response);

            console.log("连接成功，公钥:", response.publicKey);

            console.log(new PublicKey(response.publicKey));

            this._wallet = (window as any).openwallet![CHAIN_KEY];
            this._publicKey = new PublicKey(response.publicKey);
            this._readyState = WalletReadyState.Installed;

            // Set up event listeners
            console.log("设置钱包事件监听器");
            // this._wallet.on("disconnect", this._handleDisconnect);
            // this._wallet.on("accountChanged", this._handleAccountChanged);

            this.emit("connect", this._publicKey);
            console.log("连接过程完成");
            resolve();
          })
          .catch((error: any) => {
            console.log("连接过程中出错:", error);
            this._connecting = false;
            reject(error);
          });
      });

      return this._connectingPromise;
    } catch (error) {
      console.log("连接失败:", error);
      this._connecting = false;
      throw error;
    }
  }

  async disconnect(): Promise<void> {
    console.log("开始断开钱包连接...");
    if (this._disconnecting) {
      console.log("已经在断开连接中，直接返回");
      return;
    }

    this._disconnecting = true;
    const wallet = this._wallet;

    if (wallet) {
      console.log("找到钱包实例，开始断开连接");
      this._wallet = null;
      this._publicKey = null;
      this._connectingPromise = null;

      try {
        // Remove event listeners
        console.log("移除事件监听器");
        wallet.removeListener("disconnect", this._handleDisconnect);
        wallet.removeListener("accountChanged", this._handleAccountChanged);

        await wallet.disconnect();
        console.log("钱包断开连接成功");
        this.emit("disconnect");
      } catch (error) {
        console.log("断开连接过程中出错:", error);
        // Ignore error
      }
    } else {
      console.log("未找到钱包实例，无需断开连接");
    }

    this._disconnecting = false;
    console.log("断开连接过程完成");
  }

  private _handleDisconnect = () => {
    this._wallet = null;
    this._publicKey = null;
    this.emit("disconnect");
  };

  private _handleAccountChanged = (publicKey: string | null) => {
    if (publicKey) {
      this._publicKey = new PublicKey(publicKey);
      this.emit("connect", this._publicKey);
    } else {
      this._wallet = null;
      this._publicKey = null;
      this.emit("disconnect");
    }
  };

  async signTransaction(transaction: Transaction | VersionedTransaction,
    option?: SendTransactionOptions
  ): Promise<Transaction | VersionedTransaction> {
    const wallet = this._wallet;
    if (!wallet) throw new WalletNotConnectedError();
    console.log("Starting signTransaction...");
    let _option = undefined
    if (option) {
      _option = {
        ...option,
        signers: (option.signers ?? []).map(v => bs58.encode(v.secretKey))
      }
    }
    const signed = await wallet.signTransaction(transaction, this.chain, _option);
    if (typeof signed === "string") {
      // 构建交易对象
      const decodedTx = atob(signed);
      const bytes = new Uint8Array(decodedTx.length);
      // eslint-disable-next-line no-plusplus
      for (let i = 0; i < decodedTx.length; i++) {
        bytes[i] = decodedTx.charCodeAt(i);
      }
      console.log(Transaction.from(bytes));
      return Transaction.from(bytes)
    } else {
      try {
        // Convert signatures to Uint8Array
        const signatureBytes = new Uint8Array(64);
        const signatureObj = signed.signatures[0];
        for (let i = 0; i < 64; i++) {
          signatureBytes[i] = signatureObj[String(i) as keyof typeof signatureObj] as number;
        }

        // Convert account keys to PublicKey objects
        const accountKeys = signed.message.staticAccountKeys.map((key: any) => new PublicKey(key));

        // Create MessageV0
        const messageV0 = new MessageV0({
          header: signed.message.header,
          staticAccountKeys: accountKeys,
          recentBlockhash: signed.message.recentBlockhash,
          compiledInstructions: signed.message.compiledInstructions.map((instruction: any) => ({
            ...instruction,
            data: new Uint8Array(instruction.data.data)
          })),
          addressTableLookups: signed.message.addressTableLookups
        });

        // Create VersionedTransaction
        const versionedTx = new VersionedTransaction(messageV0);
        versionedTx.addSignature(new PublicKey(accountKeys[0]), signatureBytes);

        return versionedTx;
      } catch (error: any) {
        console.error("Failed to handle signed transaction:", error);
        console.error("Error details:", error.message);
        throw error;
      }
    }
  }

  async signAllTransactions(
    transactions: Transaction[] | VersionedTransaction[],
  ): Promise<Transaction[] | VersionedTransaction[]> {
    const wallet = this._wallet;
    if (!wallet) throw new WalletNotConnectedError();
    console.log({ transactions })
    const signed = await this.signTransaction(transactions[0]);
    // @ts-ignore
    return [signed];
  }

  async signMessage(message: Uint8Array): Promise<Uint8Array> {
    const wallet = this._wallet;
    if (!wallet) throw new WalletNotConnectedError();

    const signed = await wallet.signMessage(message);
    return signed;
  }

  async sendTransaction(
    transaction: Transaction | VersionedTransaction,
    connection: Connection,
    option?: SendTransactionOptions
  ): Promise<string> {
    console.log("开始发送交易...", option);
    const wallet = this._wallet;
    if (!wallet) throw new WalletNotConnectedError();
    console.log("钱包已连接");

    // 检查交易版本
    if (transaction instanceof VersionedTransaction) {
      console.log("交易版本: 1 (VersionedTransaction)");
    } else if (transaction instanceof Transaction) {
      console.log("交易版本: 0 (Transaction)");
    }

    const signed = await this.signTransaction(transaction as Transaction, option);
    // console.log("交易签名完成");
    const signature = await connection.sendRawTransaction(signed.serialize());
    // const signature = await wallet.sendTransaction(transaction, this.chain)
    console.log("交易发送完成，等待确认...");

    // 等待交易确认并获取slot
    const {
      context: { slot },
    } = await connection.confirmTransaction(signature);
    // 获取区块信息，根据交易版本设置maxSupportedTransactionVersion
    const maxVersion = transaction instanceof VersionedTransaction ? 1 : 0;
    console.log("获取区块时使用的maxSupportedTransactionVersion:", maxVersion);

    const block = await connection.getBlock(slot, {
      maxSupportedTransactionVersion: maxVersion,
    });
    if (!block) {
      throw new Error("无法获取区块信息");
    }
    // 在区块中查找我们的交易
    const transactionInfo = block.transactions.find((tx) =>
      tx.transaction.signatures.includes(signature)
    );
    if (!transactionInfo) {
      return block.blockhash
    }

    // 返回交易哈希
    const txHash = transactionInfo.transaction.signatures[0];
    console.log("交易确认成功，交易哈希:", txHash);
    return txHash;
  }
}
